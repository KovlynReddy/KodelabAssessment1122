@model KodelabAssessment1122DLL.Dtos.UserAnswerDto

@{
    int counter = 1;
}
<form asp-action="AnswerQuestion">
    <input asp-for="UserId" />
    <input id="QuestionId" asp-for="QuestionId" />

    <input asp-for="QuestionNumber" />
    <input asp-for="QuestionText" />

    <table>
        @for (int i = 0; i < Model.AnswerIds.Count - 1; i++)
        {

            @Html.RadioButtonFor(m=>m.SelectedAnswerId,Model.AnswerIds[i]) @Model.AnswerText[i]


            @*<input asp-for="SelectedAnswerId" type="radio" name="@Model.AnswerIds[i]" value="@Model.AnswerIds[i]" />
            <label>@Model.AnswerText[i] </label>*@

            @:&emsp;
            
            if (counter % 2 == 0)
            {
                <br />
                counter++;
                counter = 1;
            }
            else
            {
                counter++;
            }

        }
    </table>
    <input type="submit" value="Next" class="btn btn-primary" />
</form>
    <script type="text/javascript">

        $("#btnSave").click(function () {
            //alert("");
            var ans = {};
            ans.AnswerId = $("#StudentName").val();
            ans.QuestionId = $("#QuestionId").val();

            $("input[type=radio]:checked").each(function () {
                this.val;
                console.log(this);
            });

            $.ajax({
                async: true,
                type: 'POST',
                dataType: 'JSON',
                contentType: 'application/json;charset=utf-8',
                url: '/Quiz/AnswerQuestion',
                data: JSON.stringify(ans),
                success: function () { },
                error: function () { }
            });


        }
    </script>
